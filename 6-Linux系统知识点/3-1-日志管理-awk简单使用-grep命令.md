### 日志管理

+ **cat  文件名 **  查看文件的内容，**grep**关键字匹配

+ **cat  -n  文件名**  ==> 显示文件行号
+ **cat -n 文件名 | grep “关键字”**    ==> **grep是关键字的匹配**。显示出该文件中含有关键字的内容及其对应的行号。

+ **head  -n  N  文件名**    ==>文件从开头打印前 N 行。**-N除了最后N行**
+ **tail -n N 文件名**    ==>倒序，打印最后的N行，，，**+N 打印N行之后的内容**

注意： **tail -20f  文件名**  ==>直接写成 -20f  实时监控20行日志

+ **less 文件名**    ==> 同样也是查看文件，但是具有在终端编辑文件的功能

  - j   向**下**移动一**行**
  - k  向**上**移动一**行**
  - f   向**下**翻**屏**
  - b  向**上**翻**屏**
  - g  从**内容开头**显示
  - G  直接到**内容结尾**
  - **v**  使用配置的编辑器**编辑当前文件**
  - q / ZZ   两者都可以**退出 less命令**

  ```
  应用场景
  //查看文件
  less 文件全名
  
  //浏览多个文件
  less 文件名1 文件名2
  
  //ps查看进程信息并且通过less分页显示
  ps -ef | less
  
  //查看命令历史记录，分页的形式显示
  history | less  
  ```

+ **sort**   **文件名** ==>  可针对文本文件的内容，以行  内单位来排序

  + sort **-r**  文件名  ==> 加个参数 -r   ，按照**倒序**排。 
  + -n  按照数**值大小**排序 
  + -m 将排序好的文件进行**合并**
  + -f  将小写字母**视为大写**字母
  + -o 将结果保存到指定文件中
    + sort test.txt  -o  test.txt  
  + **-c**  检查文件是否已经按照顺序排序。

+ **uniq   文件名**  ==> 删除文件的重复行（去重）
  
  + uniq **-c** 文件名   ==> 参数 -c  返回重复的行，开头是重复的次数
  + **-d**  仅显示**重复**出现的行列。
  + **-u**  仅显示出现**一次**的行列。
  + 注意：如果文件**没有排序**，那么 **uniq 命令是无效的**。
  + 比如：**sort 文件名 | unip  -c**   ==>先排序，使用 uniq命令
+ **wc  文件名**   ==> 计算文件的行数或列数、字数、字节
  + -c  或 -bytes  **只**显示 bytes数
  + -l  或 -lines    只显示 **行**数
  + -w  或 -words  只显示 **字**数
  + **wc  文件1 文件2 **  ==> 统计三个文件的信息
    + 会先分别显示每个文件的信息，**行数、字数、字节、文件名**
    + 最后，会对上面三者进行计算 **总和**。

### awk命令简单使用

​	是一种处理文本文件的语言，是一个强大的文本分析工具。把文件**逐行的读入**，以**空格为默认分隔符**将每行切片，切开的部分再进行各种分析处理。

```
以text.txt 为例子，其内容：
2 this is a test
3 How are
Are you like linux
9 there are blue,yellow,red
```

+ 用法一：**awk ‘{[pattern] action}’ {filename}** =>行匹配 **awk只能用单引号**

```\
awk '{print $1,$4}' text.txt  // 按照空格分隔，打印1、4两项项数据
//结果,也可以规定输出的格式'{printf "%-8s %-10s\n",$1,$4}'
2 a
3 
Are like
9 blue,yellow,red
```

+ 用法二：**awk -F**  #-F相当于内置变量FS, 指定分割字符

```
// 使用","分割 ,直接在—F参数后面加个 ，
awk -F, '{print $1,$2}'   text.txt
//结果，只有最后一行有 ， 号
2 this is a test
3 How are
Are you like linux
9 there aer blue yellow   // 只有该行有多个值

// 使用多个分隔符，比如：先使用空格分隔，在使用逗号分隔。
awk -F '[ ,]' '{print $1,$2,$5}' test.txt
//结果
2 this test
3 How 
Are you 
9 there yellow 
```

注意：参数 **-F 是默认空格分隔**，可以在参数后面**紧跟单个分隔符**如 **-F,**   如果使用多个分隔符的话，那么需要就这样分隔符放在 [] 里面，如**'[ ,]'**  ==> 先空格切割，在 , 号切割。

+ 用法三： awk **-v**    //定义变量，利用参数**-V**

```
//定义变量
awk -va=1 '{print $1,$1+a}' text.txt   ==> 定义a=1，注意写法。加$1
//结果
2 3
3 4
Are 1   //如果不符合运算符，那么输出变量
9 10
//定义多个变量，注意格式，
awk -va=1 -vb=s '{print $1,$1+a,$1b}' test.txt
//结果
2 3 2s
3 4 3s
Are 1 Ares
9 10 9s
```

+ 用法四：awk **-f  awk脚本全名**  test.txt    //指用使用awk的脚本文件。

### grep命令

​	用于查找文件里符合条件的字符串。

+ **grep  text  *text**      ==>找**后缀有text字样文件**里面还有text字符串的一行数据。 

+ grep  text   **text***   ==> *号在后面，那么就找**前缀有text字样**的文件。
+ 参数：
  + -i	忽略大小写
  + -I    忽略二进制文件 
  + -a   不要忽略二进制的数据
  + **-A**   显示匹配的字符及后面的指定行数的数据，After
    + **grep  -A  3   字符**    ==>找到 字符 **后面的3行**数据
    + 如果找**前面的3行**，-B  3   ==> B指定是 Before
    + 如果找**前后3行**， -C  3    ==>c  指的是center
  + -r    递归查找，遍历指定目录下所有文件, **指定路径**
  + -n   匹配到字符串，**打印所在的行**号
  + -c    匹配到该字符串，只显示匹配到的**个数**
  + -l     匹配到该字符串，只显示其的**文件列表**
  + -o    **只显示匹配到的单词**
  + -v     **反向**查找，相当于取非，**显示不包含匹配的文本行**
  + -E '表达式'     将样式为延伸的普通表示法来使用（比如通过正则表达式匹配）
  + --include='*.py'   **仅包含**py的文件
  + --exclude='*.js'    **不包含**js的文件

### vim 

​	终端编辑器，编辑器之。对手==> Emacs 神的编辑器

vim  文件名  +58    == > 打开文件，光标直接跳转至 58行

注释： 一个双引号  “

1、插入模式 

​	i 、

2、命令模式

- **j   上** 、**k  下** 、**h  左**、**l   右**
- shift + v  选中当前行，利用
- dd    删除整行
- d2w    ==>指的是删除 当前光标开始的 2 个单词
- 4s     ==> 剪切当前光标 开始的 **后 4个字符**   （p粘贴当前光标下一个位置）
- shift + g    ==>结尾
- gg   ==>开头
- shift + l  ==>跳到当前屏幕下最下面一行
- shift + h  ==> 跳到当前屏幕的最上面一行
- shift + m  ==>跳转都屏幕的中间
- 
- u    撤销
- ctrl + r  重做
- ctrl + v  选取列，列编辑，通过上下来选取。如果进入插入模式，修改一行，那么选中的列在退出插入模式后也会被修改的。
- 
- P (大写)  粘贴上一行
- p(小写)   粘贴下一行

3、底层模式

​	w   保存

​	q    退出

​	wq  保存退出

​	set nu    显示内容行号

​	set nonu   关闭行号

​	行数      光标直接跳转至该行

​	%s/旧内容/新内容/g     ==>%s 是指的全文操作。替换旧内容

前两者切换使用  ESC  

shift+：  ==> 进入底层模式，

4、vim 配置

```
.vimrc 配置文件正在家目录下
touch .vimrc  
```

